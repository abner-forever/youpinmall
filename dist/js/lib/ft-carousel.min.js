require([],function(){return function(){!function(a){function b(a,b){this.init(a,b)}b.prototype={init:function(b,c){this.ele=b,this.opts=a.extend({},{index:0,auto:!0,time:4e3,indicators:!0,buttons:!0},c),this.index=this.opts.index,this.render(),this.eventBind(),this.opts.auto&&this.loop()},render:function(){this.renCas(),this.opts.indicators&&this.renIns(),this.opts.buttons&&this.renBtns()},renCas:function(){var a=this.ele.find(".carousel-inner"),b=a.find(".carousel-item"),c=b.length,d=b.eq(c-1).clone(),e=b.eq(0).clone(),f=this.ele.width();this.index=0>this.index||this.index>c-1?0:this.index,a.width((c+2)*f).prepend(d).append(e).css("left",(this.index+1)*-f),a.find(".carousel-item").width(f)},renIns:function(){for(var a=this.ele.find(".carousel-item").length-2,b="<div class=\"carousel-indicators\">",c=0;c<a;c++)b+="<span data-index=\""+c+"\"></span>";b+="</div>",this.ele.append(b).find(".carousel-indicators span").eq(this.index).addClass("active")},renBtns:function(){this.ele.append("<span class=\"carousel-btn carousel-prev-btn\"></span><span class=\"carousel-btn carousel-next-btn\"></span>")},animate:function(a){var b=this,c=this.ele.find(".carousel-inner"),d=this.ele.width(),e=c.find(".carousel-item").length;this.opts.indicators,c.stop(!0,!0).animate({left:c.position().left+a},function(){var f=c.position().left;0>a&&f<-d*(e-2)&&c.css("left",-d),0<a&&f>-d&&c.css("left",-d*(e-2)),b.index=c.position().left/-d-1,b.opts.buttons&&b.showBtn()})},showBtn:function(){this.ele.find(".carousel-indicators span").removeClass("active").eq(this.index).addClass("active")},loop:function(){var a=this.ele.find(".carousel-next-btn");this.timer=setInterval(function(){a.trigger("click")},this.opts.time)},eventBind:function(){var b=this,c=this.ele.find(".carousel-prev-btn"),d=this.ele.find(".carousel-next-btn"),e=this.ele.find(".carousel-indicators"),f=this.ele.width(),g=(this.ele.find(".carousel-item").length,this.opts.auto);d.on("click",function(){b.animate(-f)}),c.on("click",function(){b.animate(f)}),e.on("click","span",function(){b.animate((a(this).data("index")-b.index)*-f)}),g&&this.ele.hover(function(){clearInterval(b.timer)},function(){b.loop()})}},a.fn.FtCarousel=function(c){return this.each(function(){new b(a(this),c)})}}(jQuery)}});